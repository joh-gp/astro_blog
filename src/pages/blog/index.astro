---
import PostCard from "../../components/PostCard.astro";
import MainLayout from "../../layouts/MainLayout.astro";

//utils import
import {formatBlogPosts} from "../../js/utils";

const allPosts = await Astro.glob("./*.md");
const formattedPosts = formatBlogPosts(allPosts/* , {
	filterOutDrafts: true,
	filterOutFuturePosts: true,
	sortByDate: true,
	limit: 3,
} */);

---

<MainLayout title="My Blog">
	<section class="container" aria-label="new Blog Posts">
		<h1 class="h1"><span>New </span>Blog Posts</h1>
		<div class="post-container">
			{
				formattedPosts.map((post) => (
				<PostCard
					frontmatter={post.frontmatter}
					url={post.url}
					tagType="h2"
				/>
				))
				/* <PostCard frontmatter={allPosts[0].frontmatter} url={allPosts[0].url} tagType="h2"/>
				) */
			}
		</div>
	</section>
</MainLayout>